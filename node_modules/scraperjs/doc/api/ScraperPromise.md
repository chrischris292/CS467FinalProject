Global
===





---

ScraperPromise
===


**scraper** - Scraper to use..
**promises** - Promise chunks.
**chainParameter** - A parameter object to be passed to the chain, at the _fire
  method. This should be set immediately before the call, and
  reset to null right after the call, or after it's been stored
  elsewhere.
ScraperPromise.doneCallback() 
-----------------------------
Function to call when all the promises are fulfilled.

ScraperPromise.errorCallback() 
-----------------------------
Function to call when there's an error.

ScraperPromise.onStatusCode(code, callback) 
-----------------------------
Sets a promise for a status code, of a response of a request.

**Parameters**

**code**: number | function, Status code to
  dispatch the message. Or a callback function, in this case
  the function's first parameter is the status code, as a
  number.

**callback**: function, Callback function for the case
  where the status code is provided.

**Returns**: ScraperPromise, This object, so that new promises can
  be made.
ScraperPromise.scrape(scrapeFn, callback, var_args) 
-----------------------------
Sets a promise to scrape the retrieved webpage.

**Parameters**

**scrapeFn**: function, Function to scrape the
  webpage. The parameters depend on what kind of scraper.

**callback**: function, Callback function with the
  result of the scraping function.

**var_args**: ?, Optional arguments to pass as
  parameters to the scraping function.

**Returns**: ScraperPromise, This object, so that new promises can
  be made.
ScraperPromise.delay(time, callback) 
-----------------------------
Sets a promise to delay the execution of the promises.

**Parameters**

**time**: number, Time in milliseconds to delay the
  execution.

**callback**: function, Function to call after the
  delay.

**Returns**: ScraperPromise, This object, so that new promises can
  be made.
ScraperPromise.timeout(time, callback) 
-----------------------------
Sets a promise to execute a promise after a time period. This
  does not cause the promise chain to block.

**Parameters**

**time**: number, Time in milliseconds to the execution of
  the callback.

**callback**: function, Function to call after the
  time period has passed.

**Returns**: ScraperPromise, This object, so that new promises can
  be made.
ScraperPromise.done(doneFn) 
-----------------------------
Sets the end of the promise chain callback, if there were no
  errors.

**Parameters**

**doneFn**: function, Callback function.

**Returns**: ScraperPromise, This object, so that new promises can
  be made.
ScraperPromise.then(callback) 
-----------------------------
Sets a generic promise.

**Parameters**

**callback**: function, Callback.

**Returns**: ScraperPromise, This object, so that new promises can
  be made.
ScraperPromise.async(callback) 
-----------------------------
Stops the promise chain and resumes it after a callback
  function.

**Parameters**

**callback**: function, Callback.

**Returns**: ScraperPromise, This object, so that new promises can
  be made.
ScraperPromise.onError(callback) 
-----------------------------
Sets a promise to when an error occur, note that an error will
  break the promise chain, so this is the next promise to be
  called and if the done promise is not set the last. To avoid
  silent errors, if this promise is not defined the error will
  be thrown up.

**Parameters**

**callback**: function, Callback.

**Returns**: ScraperPromise, This object, so that new promises can
  be made.
ScraperPromise.get(url) 
-----------------------------
Makes an HTTP GET request to the url.

**Parameters**

**url**: string, Url to make the request.

**Returns**: ScraperPromise, This object, so that new promises can
  be made.
ScraperPromise.request(options) 
-----------------------------
Makes a (possible more complex) HTTP request. For more
  information refer to {@link https://github.com/mikeal/request#requestoptions-callback}.

**Parameters**

**options**: Object, Options of the request.

**Returns**: ScraperPromise, This object, so that new promises can
  be made.
ScraperPromise._setChainParameter(param) 
-----------------------------
Sets a parameter to be used in the next _fire call.

**Parameters**

**param**: Object, Parameter.

ScraperPromise._fire(error, scraper) 
-----------------------------
Starts the promise chain.

**Parameters**

**error**: ?, Error object, to fire the error callback,
  from an error that happened before.

**scraper**: Scraper, Scraper to use in the promise chain.

ScraperPromise._setPromises(promises) 
-----------------------------
Sets the promises.

**Parameters**

**promises**: Array.&lt;function&gt;, Promises array.

ScraperPromise.clone() 
-----------------------------
Clones the promise and the scraper.

**Returns**: ScraperPromise, Scraper promise with an empty scraper
  clone.


---








